<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Jua&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>Critter Twin Finder</title>
    <!-- 페이지 제목 메타 태그: SEO 용도 -->
    <meta name="title" content="Critter Twin Finder">
    <meta name="subject" content="Discover your animal twin with our AI-driven face analysis!">
    <!-- 페이지 키워드 메타 태그: 검색 엔진 최적화 용도 -->
    <meta name="keywords" content="animal look-alike test, AI animal look-alike, face test, facial analysis test, find your animal twin, AI face test, animal face, animalface, dog look-alike, cat look-alike, fox look-alike, deer look-alike, rabbit look-alike, bear look-alike, dinosaur look-alike, AI facial analysis, AI animal test">
    <meta name="author" content="J">
    <!-- 외부 css -->
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- addThis: 소셜 공유 용도 -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e64b3727e862b06"></script>
    <!-- Global site tag (gtag.js): Google Analytics를 페이지에 통합해 방문자의 웹 사용 방식(행동), 트래픽 추적 (마케팅 전략용) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-145482737-6"></script>
    <!-- Google Analytics 스크립트: 방문자 추적용 -->
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-145482737-6');
    </script>
</head>

<body>
    <!-- 네비게이션바 -->
    <nav class="p-3 container navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="/">JoyJunction</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="/critter-twin-finder">Critter Twin Finder
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- 메인 화면 -->
    <section class="section">
        <h1 class="title">🐾 Critter Twin Finder 🐾</h1>
        <h2 class="subtitle">Discover Your Animal Doppelgänger!</h2>
        <!-- 비시각적 정보를 위한 숨겨진 제목들 (스크린 리더용) -->
        <h3 class="sr-only">AI trained with celebrity photo data finds the animal features from your face.</h3>
        <h4 class="sr-only">This service utilizes Google's Teachable Machine 2.0 technology.</h4>
        <p class="sr-only">Try the AI animal face test to see which animal you look like! Our AI, trained with representative animal celebrity photos, analyzes your face right on the screen without needing any sign-ups. Your photo data is not transmitted anywhere. Find out your animal type: dog, cat, fox, deer, rabbit, bear, dinosaur? Discover through the face test!</p>
        <div class="emoji-display">
            <span class="emoji">🐶</span>
            <span class="emoji">🐱</span>
            <span class="emoji">🐰</span>
            <span class="emoji">🦖</span>
            <span class="emoji">🐻</span>
            <span class="emoji">🦌</span>
            <span class="emoji">🦊</span>
        </div>
    </section>
    
    <div class="space"></div>

    <!-- 성별 선택 -->
    <h3 class="pb-2 d-flex justify-content-center">Choose your gender</h3>
    <section class="d-flex justify-content-center">
        <div class="col-md-3 d-flex justify-content-end align-items-center pr-1">
            <p class="m-0">Female</p>
        </div>
        <div class="col-md-1 d-flex justify-content-center align-items-center px-0">
            <div>
                <input type="checkbox" id="gender">
                <label for="gender">
                    <span class="knob">
                        <i></i>
                    </span>
                </label>
            </div>
        </div>
        <div class="col-md-3 d-flex justify-content-start align-items-center pl-1">
            <p class="m-0">Male</p>
        </div>
    </section>
    
    <!-- 이미지 업로드 / 이미지 업로드 결과 -->
    <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <div class="container file-upload">
        <div class="image-upload-wrap">
            <input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
            <div class="drag-text">
                <img src="img/upload.svg" class="mt-5 pt-5 upload">
                <h3 class="mb-5 pb-5 pt-4 upload-text">Click to upload <br /> your face photo!</h3>
            </div>
        </div>
        <div class="file-upload-content">
            <img class="file-upload-image" id="face-image" src="#" alt="your image" />
            <div id="loading" class="animated bounce">
                <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
                <p class="text-center">Hold tight! Our AI is sniffing out your spirit animal. 🔍🐾</p>
            </div>
            <p class="result-message"></p>
            <div id="label-container" class="d-flex flex-column justify-content-around"></div>
            <div id="addThis" class="addthis_inline_share_toolbox_6lz1"></div>

            <div class="pt-3 image-title-wrap">
                <button type="button p-2" class="try-again-btn" onclick="gaReload1();" data-toggle="modal" data-target="#adModal">
                    <span class="try-again-text">Try another photo</span>
                </button>
            </div>
        </div>
    </div>
    <p style="text-align: center;">** We Don't Save Your Uploaded Photos **</p>

    <div class="container pt-3">
        <div id="disqus_thread"></div>
    </div>
    <footer class="footer pt-5 container d-flex justify-content-center">
        <div>
            <p>&copy; J 2024. All Rights Reserved. </p>
        </div>
    </footer>

    <noscript>Please enable JavaScript to view the
        <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <script>
        //--- 이미지 업로드 / AI 모델 예측 기능
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    $('.image-upload-wrap').hide();
                    $('#loading').show();
                    $('.file-upload-image').attr('src', e.target.result);
                    $('.file-upload-content').show();
                    $('.image-title').html(input.files[0].name);
                };
                reader.readAsDataURL(input.files[0]);
                init().then(function() {
                    console.log("hello");
                    predict();
                    $('#loading').hide();
                });
            } else {
                removeUpload();
            }
        }

        function removeUpload() {
            $('.file-upload-input').replaceWith($('.file-upload-input').clone());
            $('.file-upload-content').hide();
            $('.image-upload-wrap').show();
        }
        $('.image-upload-wrap').bind('dragover', function() {
            $('.image-upload-wrap').addClass('image-dropping');
        });
        $('.image-upload-wrap').bind('dragleave', function() {
            $('.image-upload-wrap').removeClass('image-dropping');
        });


        //--- 결과 조회 후 다른 사진으로 재시도
        function gaReload1() {
            // 파일 업로드 섹션을 초기화
            removeUpload();
        }

    </script>
    <script type="text/javascript">
        // Teachable Machine과 연동된 성별 기반 AI 모델 선택 / 결과
        let URL;
        const urlMale = "https://teachablemachine.withgoogle.com/models/o9D1N5TN/";
        const urlFemale = "https://teachablemachine.withgoogle.com/models/bB3YHn5r/";
        let model, webcam, labelContainer, maxPredictions;
        async function init() {
            if (document.getElementById("gender").checked) {
                URL = urlMale;
            } else {
                URL = urlFemale;
            }
            const modelURL = URL + "model.json";
            const metadataURL = URL + "metadata.json";
            model = await tmImage.load(modelURL, metadataURL);
            maxPredictions = model.getTotalClasses();
            labelContainer = document.getElementById("label-container");
            for (let i = 0; i < maxPredictions; i++) {
                var element = document.createElement("div")
                element.classList.add("d-flex");
                labelContainer.appendChild(element);
            }
        }
        async function predict() {
            var image = document.getElementById("face-image");
            const prediction = await model.predict(image, false);
            prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
            console.log(prediction[0].className);
            var resultTitle, resultExplain, resultCeleb;
            if (document.getElementById("gender").checked) {
                gtag('event', 'Animal Face Test Executed', {
                    'event_category': 'Animal Face Test Executed',
                    'event_label': 'Male'
                });
                switch (prediction[0].className) {
                    case "dog":
                        resultTitle = "Loyal  Doggo: Your Tail Wags for Love!"
                        resultExplain = "You're a man's best friend... literally! Your affectionate and playful personality makes you irresistible, especially to your partner. Like a loyal pup, you shower them with love and attention, and expect the same in return. Just don't leave you hanging for too long, or you might unleash your inner zoomies!"
                        resultCeleb = "Celebrities with dog-like traits: Kang Daniel - Golden Retriever energy, Baekhyun (EXO) - Playful and full of surprises, Park Bo Gum - Makes everyone smile with his sunshine personality, Song Joong Ki - Everyone's loyal companion"
                        gtag('event', 'Male Result: Dog', {'event_category': 'Male Results'});
                        break;
                    case "cat":
                        resultTitle = "The Enigmatic  Cat: Cool Cat with a Hidden Purr"
                        resultExplain = "You might come across as mysterious at first, but that only adds to your charm. You have a cool confidence with a surprising amount of affection for those who deserve it. Your partner is constantly trying to unravel your hidden depths, and that's what keeps them intrigued!"
                        resultCeleb = "Celebrities with cat-like traits: Hwang Min Hyun (NU'EST) - Aloof but secretly sweet, Xiumin (EXO) - Independent with a playful side, Kang Dong Won - Striking visuals with a soft heart, Lee Jong Suk - Cool exterior with a surprising goofiness, Lee Joon Gi - Mysterious aura with undeniable charisma"
                        gtag('event', 'Male Result: Cat', {'event_category': 'Male Results'});
                        break;
                    case "rabbit":
                        resultTitle = "Sunshine  Bunny: Hopping into Your Heart"
                        resultExplain = "Your cheerful and innocent charm is like a ray of sunshine. You spread happiness wherever you go, and your cute demeanor makes everyone want to be your friend (with a big dose of protectiveness!)."
                        resultCeleb = "Celebrities with rabbit-like traits: Jungkook (BTS) - Bunny smile that melts hearts, Bobby (iKON) - Full of energy and infectious positivity, Park Ji Hoon (Wanna One) - Cute and charming with a determined spirit, Suho (EXO) - Reliable leader with a bright personality"
                        gtag('event', 'Male Result: Rabbit', {'event_category': 'Male Results'});
                        break;
                    case "dinosaur":
                        resultTitle = "The Brooding  Dino: A Gentle Giant with a Bite"
                        resultExplain = "You might have a tough exterior, but you're a softie at heart. Your charismatic presence might seem intimidating at first, but those who get to know you discover your warm and caring side."
                        resultCeleb = "Celebrities with dinosaur-like traits: Yoon Doo Joon (Highlight) - Strong and dependable leader, Lee Min Ki - Brooding good looks with a soft touch, Kim Woo Bin - Tough exterior with a surprising sweetness, Yook Sung Jae (BTOB) - Playful charisma with a protective streak, Gong Yoo - Mysterious aura with a gentle heart"
                        gtag('event', 'Male Result: Dinosaur', {'event_category': 'Male Results'});
                        break;
                    case "bear":
                        resultTitle = "The Big Teddy  Bear: A Huggable Protector"
                        resultExplain = "You might seem a bit gruff on the outside, but you have a huge heart. You're meticulous and caring, making you a dependable rock for your partner."
                        resultCeleb = "Celebrities with bear-like traits: Ma Dong Seok - Intimidating muscles with a surprisingly gentle soul, Cho Jin Woong - Gruff exterior with a hidden sense of humor, Jo Se Ho - Caring and dependable friend, Ahn Jae Hong - Supportive and reliable with a surprising sweetness"
                        gtag('event', 'Male Result: Bear', {'event_category': 'Male Results'});
                        break;
                    default:
                        resultTitle = "Unknown"
                        resultExplain = ""
                        resultCeleb = ""
                        gtag('event', 'Male Result: Unknown', {'event_category': 'Male Results'});
                }
            } else {
                gtag('event', '동물상 테스트 수행', {
                    'event_category': '동물상 테스트 수행',
                    'event_label': '여자'
                });
                switch (prediction[0].className) {
                    case "dog":
                        resultTitle = "Adorable 🐶Dog-like Appearance";
                        resultExplain = "You radiate sunshine and affection, making everyone feel like they just got belly rubs! Your playful spirit and loyalty are a guaranteed crowd-pleaser, especially with your significant other. Just remember, a neglected pup gets the zoomies, so don't leave you hanging for too long!";
                        resultCeleb = "Celebrities with dog-like traits: Park Bo Young, IU, Yoon Seung Ah, Minah (Girl's Day), Han Ji Min";
                        gtag('event', 'Female Result: Dog', {'event_category': 'Female Results'});
                        break;
                    case "cat":
                        resultTitle = "Mysterious 🐱Cat-like Charm";
                        resultExplain = "You might seem aloof at first, but that only adds to your irresistible mystique. You're a purrfect blend of pride and affection, knowing how to subtly demand attention with your adorable antics. Your partner is constantly on their toes trying to decipher your tsundere ways, but that's what keeps them hooked!";
                        resultCeleb = "Celebrities with cat-like traits: Ahn So Hee (Wonder Girls), Oh Yeon Seo, Han Ye Seul, Lee Sung Kyung, Lee Hyori";
                        gtag('event', 'Female Result: Cat', {'event_category': 'Female Results'});
                        break;
                    case "rabbit":
                        resultTitle = "Vibrantly Charming 🐰Rabbit-like Appearance";
                        resultExplain = "Get ready for a burst of sunshine! Your infectious energy and contagious cuteness spread happiness wherever you hop. Your innocent charm and inquisitive nature make you someone everyone wants to protect and cuddle.";
                        resultCeleb = "Celebrities with rabbit-like traits: Suzy, Nayeon (Twice), Yerin (GFriend), Han Seung Yeon (Kara), Moon Chae Won";
                        gtag('event', 'Female Result: Rabbit', {'event_category': 'Female Results'});
                        break;
                    case "deer":
                        resultTitle = "Gentle and Elegant 🦌Deer-like Appearance";
                        resultExplain = "You possess a gentle elegance that draws people in. Your eyes sparkle with warmth and kindness, making you a true Bambi. While expressing your feelings might make you blush, your genuine personality shines through and captures everyone's heart.";
                        resultCeleb = "Celebrities with deer-like traits: Yoona (Girls' Generation), Lee Yeon Hee, Go Ara, Moon Geun Young, Jung Yoo Mi (Train to Busan actress)";
                        gtag('event', 'Female Result: Deer', {'event_category': 'Female Results'});
                        break;
                    case "fox":
                        resultTitle = "Seductively Cunning 🦊Fox-like Appearance";
                        resultExplain = "There's a certain captivating magic about you. You're the master of playful teasing, keeping everyone guessing with your 'will they, won't they' vibe. Your sharp wit and stunning looks make you stand out from the crowd. In love, you're passionate and expressive, but know how to play the irresistible game of push and pull.";
                        resultCeleb = "Celebrities with fox-like traits: Kyungri (Nine Muses), Yeji (Itzy), Han Hye Jin (model), Heize, Jiyeon (T-ara)";
                        gtag('event', 'Female Result: Fox', {'event_category': 'Female Results'});
                        break;
                    default:
                        resultTitle = "Unknown";
                        resultExplain = "";
                        resultCeleb = "";
                        gtag('event', 'Female Result: Unknown', {'event_category': 'Female Results'});
                }


            }
            var title = "<div class='" + prediction[0].className + "-animal-title'>" + resultTitle + "</div>"
            var explain = "<div class='animal-explain pt-2'>" + resultExplain + "</div>"
            var celeb = "<div class='" + prediction[0].className + "-animal-celeb pt-2 pb-2'>" + resultCeleb + "</div>"
            $('.result-message').html(title + explain + celeb);
            var barWidth;
            for (let i = 0; i < maxPredictions; i++) {
                if (prediction[i].probability.toFixed(2) > 0.1) {
                    barWidth = Math.round(prediction[i].probability.toFixed(2) * 100) + "%";
                } else if (prediction[i].probability.toFixed(2) >= 0.01) {
                    barWidth = "4%"
                } else {
                    barWidth = "2%"
                }
                var labelTitle;
                switch (prediction[i].className) {
                    case "dog":
                        labelTitle = "🐶"; // Dog emoji
                        break;
                    case "cat":
                        labelTitle = "🐱"; // Cat emoji
                        break;
                    case "rabbit":
                        labelTitle = "🐰"; // Rabbit emoji
                        break;
                    case "dinosaur":
                        labelTitle = "🦖"; // Dinosaur emoji
                        break;
                    case "bear":
                        labelTitle = "🐻"; // Bear emoji
                        break;
                    case "deer":
                        labelTitle = "🦌"; // Deer emoji
                        break;
                    case "fox":
                        labelTitle = "🦊"; // Fox emoji
                        break;
                    default:
                        labelTitle = "❓"; // Question mark emoji for unknown
                }

                var label = "<div class='animal-label d-flex align-items-center'>" + labelTitle + "</div>"
                var bar = "<div class='bar-container position-relative container'><div class='" + prediction[i].className + "-box'></div><div class='d-flex justify-content-center align-items-center " + prediction[i].className + "-bar' style='width: " + barWidth + "'><span class='d-block percent-text'>" + Math.round(prediction[i].probability.toFixed(2) * 100) + "%</span></div></div>"
                labelContainer.childNodes[i].innerHTML = label + bar;
            }
        }
    </script>

</body>
<!-- 
image input box
Copyright (c) 2020 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

gender toggle
Copyright (c) 2020 by Mert Cukuren (https://codepen.io/knyttneve/pen/bPpEZY)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 -->

</html>